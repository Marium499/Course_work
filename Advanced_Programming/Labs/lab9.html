<title>Task 4</title> 
<style> 
body { 
font-family: 'Arial'; 
} 

#calc { 
} 

#calc td { 
font-size: 1.5em; 
padding: 0.5em; 
text-align: center; 
max-width: 20px; 
} 
#calc td:active { 
background: grey; 
} 

#calc input { 
width: 100%; 
font-size: 2em; 
text-align: right; 
} 
</style> 
</head> 

<body> 
<table id="calc" style="background: lightgrey" border="1"> 

<tr><th colspan="5"><input type="text" id="display"/></input></th></tr> 
<tr><td onClick="storedVal = 0;">MC</td><td onClick="addDigit(0)">0</td><td onClick="addDigit(1)">1</td><td onClick="addDigit(2)">2</td><td onClick="performOperation('plus')">+</td></tr> 

<tr><td onClick="memoryStore()">MS</td><td onClick="addDigit(3)">3</td><td onClick="addDigit(4)">4</td><td onClick="addDigit(5)">5</td><td onClick="performOperation('minus')">-</td></tr> 

<tr><td onClick="display.value = storedVal;">MR</td><td onClick="addDigit(6)">6</td><td onClick="addDigit(7)">7</td><td onClick="addDigit(8)">8</td><td onClick="performOperation('multiply')">x</td></tr> 

<tr><td onClick="storedVal += parseFloat(display.value);">M+</td><td onClick="addDigit(9)">9</td><td onClick = "changeSign()">+/-</td><td onClick="eval()">=</td><td onClick="performOperation('divide')">/</td></tr> 

<tr><td onClick="performOperation('1/x')">1/x</td><td onClick="addDecimal()">.</td><td onClick="performOperation('x2')">x2</td><td onClick="performOperation('sqrt')">sqrt</td><td onClick="display.value='0'">C</td></tr> 

</table> 

<script> 
var display = document.getElementById("display"); 
var operand1 = 0; 
var operand2 = 0; 
var clear = false; 
var operation = ""; 
var storedVal = 0; 

function textInput(e) { 
switch(e.key) 
{ 
case '0': 
display.value += '0'; 
break; 
case '1': 
display.value += '1'; 
break; 
case '2': 
display.value += '2'; 
break; 
case '3': 
display.value += '3'; 
break; 
case '4': 
display.value += '4'; 
break; 
case '5': 
display.value += '5'; 
break; 
case '6': 
display.value += '6'; 
break; 
case '7': 
display.value += '7'; 
break; 
case '8': 
display.value += '8'; 
break; 
case '9': 
display.value += '9'; 
break; 
case 'c': 
case '0': 
display.value = '0'; 
break; 

} 
} 
window.addEventListener("keydown",textInput); 

function addDigit(digit) { 
if (display.value == '0' || clear) { 
display.value = digit; 
if (clear) clear = false; 
} 
else 
display.value += digit; 
} 

function performOperation(op) { 
operand1 = parseFloat(display.value); 
display.value = '0'; 
operation = op; 
if (op == 'x2' || op == 'sqrt' || op == '1/x') eval(); 
} 
function eval() { 
operand2 = parseFloat(display.value); 
switch(operation) 
{ 
case "plus": 
operand1 += operand2; 
break; 
case "minus": 
operand1 -= operand2; 
break; 
case "multiply": 
operand1 *= operand2; 
break; 
case "divide": 
operand1 /= operand2; 
break; 
case "x2": 
operand1 = operand1**2; 
break; 
case "sqrt": 
operand1 = Math.sqrt(operand1); 
break; 
case "1/x": 
operand1 = 1/operand1; 
break; 
} 
display.value = operand1; 
clear = true; 
operation = ""; 
} 

function changeSign() { 
if (display.value[0] == '-') 
{ 
display.value = display.value.substr(1); 
} 
else 
{ 
display.value = "-" + display.value; 
} 
} 

function addDecimal() { 
if (!display.value.includes('.')) 
display.value += '.'; 
} 

function memoryStore() { 
storedVal = parseFloat(display.value); 
} 
</script> 
</body> 
</html>
 
